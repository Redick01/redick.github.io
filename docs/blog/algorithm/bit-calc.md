# 位运算<!-- {docsify-ignore-all} -->


## XOR 异或运算

> 异或：相同为0，不同为1，也可以用“不进位加法”来理解

异或操作的一些特点：

- x ^ 0 = x
- x ^ 1s = ~x // 1s=~0
- x ^ (~x) = 1s
- x ^ x = 0;
- c = a ^ b => a ^ c = b, b ^ c = a //交换两个数
- a ^ b ^ = a ^ (b ^ c) = (a ^ b) ^ b // associative

## 指定位置的位运算

1. 将x最右边的n位清零：x & (~0 << n)
2. 获取x的第n位值（0或者1）：(n >> n) & 1
3. 获取x的第n位的幂值：x & (1 << (n - 1))
4. 仅将第n位置为1：x | (1 << n)
5. 仅将第n位置为0：x & (~(1 << n))
6. 将x最高位至第n位（含）清零：x & ((1 << n) - 1)
7. 将第n位至第0位（含）清零：x & (~((1 << n) - 1))

## 实战位运算要点

- 判断奇偶

x % 2 == 1 --> (x & 1) == 1

x % 2 == 0 --> (x & 1) == 0

- x >> 1 --> x / 2 常用语二分

即：x = x / 2 --> x = x >> 1

mid = (left + right) / 2 --> mid = (left + right) >> 1

- x = x & (x - 1) 清零最低位的1
- x & -x => 得到最低位的1
- x & ～x => 0