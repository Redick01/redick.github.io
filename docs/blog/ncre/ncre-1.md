# 计算机基础 <!-- {docsify-ignore-all} -->



## 计算机体系结构

### 计算机硬件组成

- 主机：运算器、控制器（CPU），主存（内存）
- 存储器：主存、辅存
- I/O设备：输入、输出 设备

### 处理器

- CPU：通用处理器，复杂运算
- GPU：专用处理器，并发强，视频处理图形渲染
- DSP：专用处理器，处理大量数字信号，众多乘法器
- FPGA：专用处理器，实时数据处理

### 流水线指令系统

- 流水线周期：

  最长执行时间的一段

- 流水线执行时间：

  (t1+t2 + .... + tn)+ (n-1)*流水线周期

- 流水线执行吞吐率：单位执行内执行的指令数

  TP = 指令条数/流水线执行时间

- 最大流水线执行吞吐率：

  TP(max) = 1/流水线周期

- 流水线加速比

  s = 不使用流水线执行时间/使用流水线执行时间

### 存储系统

​	主存的基本单元是存储单元，一般以8位二进制作为一个存储单元。每个存储单元都有一个地址，一般用十六进制数表示。

- 例题1，内存按照字节编址，地址从A4000H到CBFFFH，共有多少字节？假如存储容量为32KB*8bit的存储芯片构成该内存，至少需要多少片存储芯片？

​	解：先求出地址总个数 CBFFF - A4000 + 1 = 28000，然后转成10进制 2乘16的4次方+8乘16的3次方等于163840，求字节数再除1024，等于160K（个）

​	如果存储容量32K，160K除以32K等于5，则至少5片。

#### 磁盘阵列

- RAID0：无冗余无校验阵列，具有最高的IO和最高的磁盘利用率，故障率高，因为无冗余，所以主要用于那些，关注性能、容量和价格而不是可靠性系统
- RAID1：镜像磁盘阵列，有镜像对组成，每个工作盘有一个镜像盘，镜像盘保存着工作盘的的所有数据拷贝，具有最高的安全性，磁盘利用率位50%，RAID1主要用于存放软件，系统等重要文件，以便于故障恢复。
- RAID2：使用海明码就错的磁盘阵列，大数据量IO很高，但不利于小数据量，实际应用不多。
- RAID3和RAID4：采用奇偶校验码的磁盘阵列，RAID3是位交叉，RAID4是块儿交叉，RAID3适用于大型文件IO不频繁，RAID4适用于大型文件读取。
- RAID5：无独立校验盘的奇偶校验码磁盘阵列，适合IO频繁的应用，不适合高数据传输率（大文件）的应用。
- RAID6：具有独立的数据硬盘和两个独立的分布式校验方案，RAID6设置了一个独立的，可快速访问的异步校验盘，性能提升有限，价格又很昂贵。
- RAID7：RAID6的改进，具有最优化的异步IO速率和数据传输速率的磁盘阵列，有着优异的性能，是目前最高档次的磁盘阵列。
- RAID10：高可靠性和高性能的组合，建立在RAID0和RAID1基础上的，RAID1负责冗余，RAID0负责读写。具有高性价比。

### 校验码

- 做题步骤

​	通常计算校验码，第一步分解多项式；第二步做模二除法（不进位加法/异或运算），被除数是信息码，除数为多项式，求得余数即为校验码；



## 存储管理

### 基本概念

- 地址重定位：将程序中的虚拟地址（逻辑地址）转换为内存的真实地址（物理地址）的过程。

### 存储管理方案

- 分区存储管理
- 分页存储管理
- 分段存储管理
- 段页式存储管理
- 虚拟存储管理

### 典型真题

![image-20240708140113877](/Users/penghuiliu/geek_learn/redick.github.io/docs/_media/image/ncre/01/image-20240708140113877.png)

答案：3148H和2

解：页面大小4K，转成bit就是 2的12次方，能用12位的2进制表示一个页，进程p访问逻辑地址十六进制是5148H，148正好可以用12位二进制数表示，所以代表页内地址，5就是页号，从表中 就可以找到对应的物理地址的页帧号就是3，所以物理地址就是3148H；访问6不在内存，找一个在内存的，就是1、2、5、7，然后看访问位，可以淘汰不总被访问的（访问位是0），所以淘汰2。如果都被访问再看修改位，这里不用看修改位就能知道答案。



## 设备管理

### 主要技术

- 中断技术
- 通道技术
- DMA技术
- 缓冲技术

### 磁盘调度算法

​    磁盘是可能被多个进程共享的设备。当有多个进程请求访问磁盘时，为了保证信息的安全，系统在每一时刻只允许一个进程启动磁盘进行IO操作，其余的进程只能等待。因此，操作系统应采用一种适当的调度算法，使各进程对磁盘的平均访问（主要是寻道）时间最小。磁盘调度分为移臂调度和旋转调度两种，并且先进行移臂调度，然后进行旋转调度。由于访问磁盘量耗时的是寻道时间，因此，磁盘调度的目标是使磁盘的平均下寻道时间最少。

口诀：先看柱面找最近，在看磁头找最小，后看扇区找最小。



## 进程管理

### 进程的特征

进程通常由程序、数据集合、进程控制块PCB组成。PCB是一种数据结构，是进程存在的唯一标识。

PCB的组织方式有线性方式、链接方式、索引方式三种。

### 进程的状态

- 运行态：一个进程在处理机上运行时
- 就绪态：一个进程获得了除处理机外的一切资源，一旦得到处理机就可以运行
- 阻塞态：一个进程正在等待某一时间发生而暂时停止运行，此时即使把处理机给它也无法运行

![image-20240711144419089](/Users/penghuiliu/geek_learn/redick.github.io/docs/_media/image/ncre/01/image-20240711144419089.png)

### 进程通信

#### PV操作

- P操作：

1. 将信号量S的值减1，即S=S-1；
2. 如果S>=0，则该进程继续执行，否则该进程设置为等待状态。

- V操作：

1. 将信号量S的值加1，即S=S+1；
2. 如果S>0该进程继续执行，否则说明等待队列中有等待进程，需要唤醒等待进程。

信号量S的物理意义：S>=0表示资源的可用数，若S<0，则S的绝对值代表阻塞队列中等待的进程数。 

- 考点：配合进程前趋图的PV操作，此类题得先理清前趋图，然后将信号量与前趋关系对应起来，根据进程间的前趋后继关系推导PV操作，前趋就V操作，后继就P操作。



## 文件管理

- 逻辑结构：从用户角度看到的文件的组织形式，用户看到文件名就可以存取文件中的信息
- 物理结构：文件在存储器上的存储方式

#### 物理结构

- 索引结构：直接索引、一级索引、二级索引、三级索引

##### 典型例题

某文件系统文件存储采用文件索引节点法。假设文件索引节点中有8个地址项iaddr[0]~iaddr[7]，每个地址项大小为4字节，其中地址项iaddr[0]~iaddr[5]为直接地址索引，iaddr[6]是一级间接地址索引iaddr[7]是二级间接地址索引，磁盘索引块和磁盘数据块大小均为4KB该文件系统可表示的单个文件最大长度是(D)KB。若要访问iclsClient.dll文件的逻辑块号分别为6、520和1030，则系统应分别采用(C)。

A. 1030  B.657960  C.1049606  D.41984241

A.直接地址索引、一级间接地址索引和二级间接地址索引

B.直接地址索引、二级间接地址索引和二级间接地址索引

C.一级间接地址索引、一级间接地址索引和二级间接地址索引

D.一级间接地址索引、二级间接地址索引和二级间接地址索引

解：索引能链出的实际文件地址块数等于 4KB/4B=1024，所以该题中的逻辑块号分别是：直接地址索引0-5，一级地址索引6-1030，二级地址索引1030以上。所以能选出第二问为C；求最大长度的话，就把逻辑块数乘以数据块大小，直接地址的大小6x4KB=24KB，一级地址索引的大小(4KB/4B)x4KB=4096KB，二级地址索引大小(4KB/4B)x(4KB/4B)x4KB=4194304KB，最后将三块相加就是可表示的单个文件最大长度，选D。

#### 文件存储管理

##### 位示图（Bitmap）

​    每一位中0表示未占用，1表示占用，每个字号中的位数字长位数有关，比如字长64位，一个字号就能表示64个位。

## 计算机网络

### OSI七层从下到上

物理层、数据链路层、网络层、传输层、会话层、表示层、应用层

### 四层从下到上

网络接口层、网际层、传输层、应用层

### 应用层协议

#### FTP协议

- FTP：建立在TCP之上，21端口用于传送控制信息，20端口用于传送文件内容。
- TFTP：简单文件传输协议，建立在UDP之上，端口号69.

#### HTTP协议

- HTTP：超文本传输协议，建立在TCP之上，默认端口80
- HTTPS：在HTTP基础下加入了SSL，默认端口443

#### DHCP动态主机配置协议

​    通常被用于大型局域网络环境中，主要作用是集中管理、分配IP地址，使网络环境中的主机动态的获取到IP地址、网关地址、DNS服务器地址等信息。

#### DNS协议

​    DNS协议，域名系统，把主机域名解析为IP地址的系统。包含两种查询方法，迭代查询、递归查询。

### 传输层协议

#### TCP协议

   可靠的，面向连接的，字节流服务，首部开销20字节。

#### UDP协议

​    不可靠的，无连接，面向报文，首部开销8字节。

### 网络层协议

IPV4

IPV6
