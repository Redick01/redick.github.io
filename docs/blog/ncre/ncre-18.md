# 可靠性设计 <!-- {docsify-ignore-all} -->



可靠性：在规定条件下，在规定时间内，软件不引起系统失败的概率。

### 可靠性度量指标

1. 可靠度：最直接的方式，根据可靠性的定义，可靠度就是软件系统在规定条件下、规定时间内系统不发生失效的概率。
2. 失效强度：单位时间软件系统出现失效的概率。
3. 平均失效时间（MTTF）：定义为从1=0时到故障发生时系统的持续运行时间的期望值。
4. 平均恢复前时间（MTTR）：随机变量恢复时间的期望值，就是从出现故障到恢复成功中间的这段时间，它包括确认失效发生所必须得事件，记录所有任务的实践，还有将设备重新投入使用的时间。MTTR越短表示易恢复性越好。
5. 平均故障间隔时间（MTBF）：失效或维护中所需的平均时间，包括故障时间以及检测和维护设备的时间。MTBF=MFTB+MTTR。

### 软件可靠性设计

##### 容错设计技术

1. N版本程序设计：通过设计出多个模块或不同版本，对于相同初始条件和相同输入的操作结果，实行多数表决，防止其中某一软件模块或版本的故障提供错误的服务，以实现软件容错。
2. 冗余设计：软件的冗余设计技术实现的原理是在一套完整的软件系统之外，设计一种不同路径。不同算法或不同实现方法的模块或系统作为备份，在出现故障时可以使用冗余的部分进行替换，从而实现软件系统的正常运行。
3. 恢复块方法：一个恢复块包含有若干个功能相同、设计差异的程序块文本，每一时刻有一个文本处于运行状态。一旦该文本出现故障，则用备份文本加以替换，从而构成”动态冗余“。软件容错的恢复块方法就是使软件包含一系列恢复块。

##### 检错技术

​    在软件系统中，对无需在线容错的地方或不能采用冗余设计技术的部分，如果对可靠性要求较高，故障有可能导致严重的后果，一般采用检错技术，在软件出现故障后能及时发现并报警，提醒维护人员进行处理。

##### 降低复杂度设计

​    在保证实现软件功能的基础上，简化软件结构，缩短程序代码长度，优化软件数据流向，降低软件复杂度，从而提高软件可靠性。

##### 系统配置技术

1. 双机热备模式：正常情况下，一台服务器处于工作状态（主系统），另一台服务器处理监控准备状态（备用系统）。典型应用有证券资金服务器或行情服务器等。双机热备的主要缺点在于，备用系统长期处于后备状态，存在资源浪费。
2. 双机互备模式：两台服务器均处于工作状态，也就是说，两台服务器同事运行，但彼此均设为备用系统。当某一台服务器出现故障时，另一台服务器可以在短时间内将故障服务器的应用接管过来，从而保证了应用的持续性。缺点是对服务器的性能要求比较高。
3. 双机双工模式：该模式机集群技术的一种形式，两台服务器均处于工作状态，同时为前端客户机提相同的应用服务，以保证整体系统的性能，实现负载均衡和互为备份。
4. 集群技术：集群技术是指一组相互独立的服务器在网络中组合成为单一的系统工作，并以单一系统的模式加以管理。
