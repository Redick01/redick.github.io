# 系统设计 <!-- {docsify-ignore-all} -->

## 系统设计概述

### 概要设计

​    又称`系统总体结构设计`，主要任务是将系统的功能需求分配给软件模块，确定每个模块的功能和调用关系，形成软件的模块结构图。

​    软件概要设计，将软件需求转化为软件`数据结构`和`软件的系统结构`。

#### 模块结构图

即 系统结构图



#### UML同意建模语言

- 类图：展现了一组对象、接口、协作和他们之间的关系。类图给出了系统的静态设计视图。类之间的关系有依赖，泛化和关联与实现关系。

<img src="/Users/penghuiliu/Library/Application Support/typora-user-images/image-20230916161811246.png" alt="image-20230916161811246" style="zoom:50%;" />

- 对象图：展现了某一时刻一组对象之间的关系，描述了类图中所建立的事物的实例的静态快照。
- 用例图：用例图展现了一组用例、参与者与他们之间关系的图，用例图是参与者能观察到的系统功能的模型图，是系统蓝图，用于需求分析阶段。
- 交互图：用于对系统动态方面的建模。一个交互图表现的是一个交互程序由一组对象和他们之间关系组成，包含他们传递的消息，交互图的表现为序列图（顺序/时序图）、活动图、通信图、交互概览图。
  - 序列图：是场景的图形化表示，强调了以时间顺序组织的对象之间的交互活动。不同于通信图的两点式对象生命线和控制焦点。
  - 通信图：强调的是收发信息的对象的组织结构，强调参加交互的对象组织。
  - 交互概念图：UML2.0新增的交互图之一，是活动图和顺序图的结合。
  - 定时图：也成计时图，它强调消息跨越不同的对象或参与者的实际时间，而不仅仅只是关心消息的相对顺序。
- 状态图：描述了特定对象所有可能的状态，以及由于各种事件触发对象的状态的转移和变化。状态图描述的行为结果用于系统动态建模。
- 活动图：主要用来描述系统的动态视图，将进程或其他计算的结构展示为计算内部一步步的控制流和数据流。活动图主要描述行为动作，用于动态建模。
- 构件图：展示了一组构件之间的组织和依赖，专注于系统静态视图展示。
- 组合结构图：描述了结构化类的内部结构，包括结构化类与系统其余部分的交互点。用于画出结构化类的内部结构。
- 部署图：部署图是用来对面向对象系统的物理方面建模的方法。展现了运行时处理节点以及构件的配置。一般对系统静态部署视图进行建模。
- 包图：包图包被描述成文件夹，可以用于UML任何一种图上，它是一种维护系统总体结构的模型和重要的建模工具，通过对各个包之间的描述，展现了模块与模块之间的依赖关系。

#### 4+1视图模型

- 逻辑视图：主要支持系统的功能需求，在逻辑视图中系统被分解成功能抽象，这些抽象主要来自问题领域，在面向对象技术中，通过继承，封装，抽象可用对象模型代码逻辑视图，用类图来描述逻辑视图。
- 进程视图：侧重于系统的运行特性，主要关注一些非功能性的需求，如性能和可用性，进程视图强调并发性、分布性、系统集成性、系统容错能力，以及逻辑视图中主要抽象的进程结构。他也定义逻辑视图中的主要抽象在哪个线程中执行的。
- 物理视图：主要考虑的如何把程序映射到硬件上，它通常要考虑到解决系统拓扑结构、系统安装、通信等问题。
- 开发视图：也称模块视图，主要侧重于软件模块的组织和管理。软件可以通过程序库或子程序进行组织。对于一个软件系统，可以由不同的开发人员进行开发。开发视图要考虑开发软件内部需求，如软件开发容易性，软件的重用性和软件的通用性。
- 一个场景（场景视图）：可以看做是那些重要系统活动的抽象，他是四个视图有机的联动起来，从某种意义上说，场景是最重要的需求抽象。

### 详细设计

​     详细设计也成为底层设计，即对结构图进行细化，得到`详细的数据结构与算法`，详细设计主要包括：网络设计

代码设计、输入输出设计、处理流程设计、数据存储设计、用户界面设计、安全性和可靠性设计等。

#### 程序流程图

​    直观，清晰，易于学习掌握，用于详细设计，一般五中：顺序型、选择型、WHILE循环型，UNTIL循环型和多分支选择型。

#### 伪代码

​    DPL，过程设计语言，结构化语言或伪代码，是一种混合语言，采用自然语言的词汇和结构化程序设计语言的语法，类似于编程语言

#### 盒图

​    N-S图



#### 处理流程设计

> 常见工具：程序流程图、IPO图、盒图、问题分析图、判定树，表格工具包括判定表，语言工具包括过程设计语言等。

> 问题分析图：PAD，包含五种基本控制结构，并允许递归使用

> 判定表

> 判定树



## 结构化程序设计

- 结构化设计（Structured Design，SD），是一种面向数据流的方法，它以SRS和SA阶段所产生的数据流图和数据字典等文档为基础，是一个自顶向下、逐步求精和模块化的过程
- 软件的结构化设计包括体系结构设计、接口设计、数据设计和过程设计。

1. 体系结构设计：定义软件系统各个主要部件之间的关系
2. 数据设计：将模型转换成数据结构定义。好的数据设计将改善程序结构和模块划分，降低过程复杂性
3. 接口设计（人机界面设计）：软件内部，软件和操作系统间以及软件和人之间如何通信
4. 过程设计：系统结构部件转换成软件的过程描述

- 结构化设计特征

1. 信息隐蔽与隐藏。提高软件的可修改性、可测试性和可移植性
2. 模块化
3. 高内聚与低耦合



### 模块

​    模块是实现功能的基本单位，它一般具有功能、逻辑和状态三个基本属性

模块划分时所遵循的原则：

1. 模块大小要适中
2. 模块扇入和扇出要合理
3. 深度和宽度要适当
4. 高内聚和低耦合



### 面向对象设计

- 面相对象的设计过程可以分为

1. 设计用力实现方案

UML的交互图适用于用例实现方案的表示。该设计方案包含如下三个步骤：

提取边界类、实体类和控制类；构造交互图；根据交互图精化类图

2. 设计技术支撑放哪

在许多软件项目中，应用功能往往都需要一组技术支撑机制为其提供服务，例如，数据持久存储服务、安全控制服务、分布式事务管理服务、病发育同步控制服务和可靠消息服务等。

3. 设计用户界面
4. 精化设计模型

- 在系统设计过程中，类可以分为三种类型：实体类、边界类和控制类

实体类：来源于领域模型中的类；一定有属性但不一定有操作；反应的信息需要在系统中处理，并需要进行持久化存储，持久化存储可以由实体类来实现，也可以设计专门的数据访问类来完成

边界类：用于系统接口和系统外部进行交互

控制类：控制用例工作的类；体现应用程序的执行逻辑

#### 面向对象设计原则

单一职责原则：设计目的单一的类

开放-封闭原则：对扩展开发，对修改封闭

里氏替换原则：子类可以替代父类

依赖倒置原则：依赖于抽象，不依赖于具体实现，对接口编程，不要对实现编程

接口隔离原则：使用多个专门的接口，比使用一个总接口好

组合重用原则：尽量使用组合而不是继承，达到重用目的

迪米特原则：一个对象应当对其他对象尽可能少的了解（最少知识）