# 架构评估方法 <!-- {docsify-ignore-all} -->



### 质量属性

#### 开发期质量属性

- 易理解性：
- 可扩展性：
- 可重用性：
- 可测试性：
- 可维护性：
- 可移植性：

#### 运行期质量属性

- 性能
- 安全性
- 可靠性
- 可用性
- 可伸缩性
- 互操作性
- 鲁棒性

#### 面相架构评估的质量属性

- 性能
- 安全性
- 可靠性
  - 健壮性
  - 容错
- 可用性
- 可修改性
  - 可扩展性
  - 结构重组
  - 可测试性
  - 可移植性
- 功能性
- 可变性
- 互操作性

### 质量场景

#### 质量场景的六个组成部分

- 刺激源：谁造成的刺激
- 刺激：一个响应系统的情况
- 制品：系统被刺激的部分
- 环境：刺激发生时系统所处的状态
- 响应：刺激产生的结果
- 响应度量：如何评估响应

### 质量特性

- 敏感点：
  - 定义：为了实现某种特定的质量属性， 一个或多个构建所具有的特性
  - 关键词：对查询请求的处理时间的要求将影响系统的数据传输协议和处理过程的设计
- 权衡点：
  - 定义：指影响多个质量属性，并对多个质量属性来说都是敏感点的质量特性
  - 关键词：改变业务数据编码方式，会对性能和安全性产生影响
- 风险
  - 定义：不以标准的属于出现，某些做法有些隐患可能会导致一些问题
  - 关键词：对系统某业务逻辑的描述尚未达成共识，这可能导致部分业务功能模块的重复，影响系统的可修改性
- 非风险
  - 定义：某些做法是可行的，可接受的
  - 关键词：业务处理时间小于30毫秒，则将请求响应时间设定为1秒钟是可以接受的

### 架构评估方法分类

##### 基于调查问卷或检查表的方式

​    该方式的关键是要设计好问卷或检查表，它充分利用系统相关人员的经验和知识，获得对架构的评估。其缺点是在很大程度上依赖于评估人员的主观推断。



##### 基于场景的方式（重点）

​    架构权衡分析法（ATAM），软件架构分析法（SAAM）和成本收益分析法（CBAM）。通过分析软件架构对场景（也就是对系统的使用或修改活动）的支持程度，从而判断该架构对这一场景所代表的质量需求的满足程度。



##### 基于度量的方式

​    制定一些定量值来度量架构，如代码行数等。要制定质量属性和度量结果之间的映射。



#### SAAM方法

​    SAAM是卡耐基梅陇大学软件工程研究所的Kazman等人于1983年提出的一种非功能质量属性的架构分析方法，是最早形成文档并得到广泛应用的软件架构分析方法。SAAM的主要输入是`问题描述`、`需求说明`和`架构描述`，其分析的过程主要包括`场景开发`、`架构描述`、`单个场景评估`、`场景交互`和`总体评估`。



#### ATAM方法（重要）

​    架构权衡分析法ATAM是一种系统架构评估方法，主要在系统的`开发之前`，针对`性能、可用性、安全性和可修改性`等`质量属性`进行`评价和折中`，整个评估过程强调以`质量属性`作为架构评估的核心概念。

最初的ATAM阶段

1. 阶段一：场景和需求收集，收集场景；收集需求/约束/环境
2. 阶段二：体系结构视图和场景实现，描述体系结构视图，实现场景
3. 阶段三：属性模型构造和分析，特定属性分析（优秀单一理论）
4. 阶段四：折中，标志敏感度，标志折中

现在的ATAM阶段

1. 阶段一：描述和介绍，包含，描述ATAM方法，描述业务动机，描述架构
2. 阶段二：调查和分析阶段，包含，确定架构方法，生成质量属性效用树，分析架构方法
3. 阶段三：测试阶段，包含，讨论场景和对场景进行分级，分析架构方法
4. 阶段四：报告阶段，包含，描述评估结果

##### ATAM方法评估参与者：

1. 评估小组：组织内部或外部的、扮演特定的角色；
2. 项目决策者：项目管理人员、重要客户代表、架构师；
3. 项目干系人：项目开发人员，测试人员，用户。

##### ATAM方法评估活动步骤

1. 描述ATAM方法：评估小组负责人向参加会议的项目干系人介绍ATAM评估方法。
2. 描述业务动机：项目决策者从业务角度介绍系统的概况。该描述应该包括系统最重要的功能、技术/管理/经济和政治方面的相关限制、与该项目相关的业务目标和上下文、主要的项目干系人，以及架构的驱动因素等。
3. 描述架构：包括技术约束（例如操作系统、硬件和中间件等），将与本系统进行交互的其他系统、用以满足质量属性要求的架构方法等。
4. 确定架构方法：通过理解架构方法来分析架构，在这一步，由架构设计师确定架构方法。
5. 生成质量属性效用树：评估小组、设计小组、管理人员和客户代表一起确定系统最重要的质量属性目标，并对这些质量目标设置优先级和细化。（性能、可用性、安全性和可修改性）
6. 分析架构方法：这一步的主要结果是一个架构的方法或风格的列表，与之相关的一些问题，以及设计师对这些问题的回答。通常生成一个风险列表、敏感点和权衡点列表。
7. 讨论场景和对场景分级：项目干系人进行两项相关的活动，分别是集体讨论用例场景和改变场景。用例场景是场景的一种，在用例场景中，项目干系人是一个终端用户，使用系统执行一些功能，一旦手机了若干个场景后，必须设置优先级，评估人员通过投票表决的方式来完成。
8. 分析架构方法：在收集并分析了场景之后，设计师就可把最高级别的场景映射到所描述的架构中，并对相关的架构如何有助于该场景的实现做出解释。在这一步中，评估小组要重复第六步中的工作，把新的到的最高优先级场景与尚未得到的架构工作产品对应起来。在第七步中，如果未产生任何在以前的分析步骤中都没有发现的高优先级场景，则第八步就是测试步骤。
9. 描述评估结果：最后，要把ATAM分析中所得到的各种信息进行归纳，并反馈给项目干系人。ATAM的评估结果包括一个简洁的架构描述、表达清楚的业务目标、用场景结合捕获的质量属性、所确定的敏感点和权衡点的集合、有风险决策和无风险决策、风险主体的集合。

#### CBAM方法

​    CBAM用来对架构设计决策的成本和收益进行建模，他得基本思想是架构策略影响系统的质量属性，反过来这些质量属性又会为系统的项目干系人带来一些收益（成为“效用”），CBMA协助项目干系人根据其投资收益率选择架构策略。CBMA可以看做是ATAM的补充，在ATAM评估结果的基础上对架构的经济性进行评估。

### 软件架构复用

​    软件产品线是指一组软件密集型系统，它们共享一个公共的、可管理的特性集，满足某个特定市场或任务的具体需要，是以规定的方式用公共的核心资产集成开发出来的。即围绕核心资产库进行管理、复用、集成新的系统。



软件架构复用的类型包括机会复用和系统复用。

1. 机会复用:开发过程中，只要发现有可复用的资产，就对其进行复用

2. 系统复用：是指在开发之前，就要进行规划，以决定哪些需要复用