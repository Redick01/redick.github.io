# 可靠消息最终一致性分布式事务 <!-- {docsify-ignore-all} -->

## 分布式事务

&nbsp; &nbsp; 在后端的系统开发中，都会使用到关系型数据库，文件，等等数据存储，并且在系统运行过程中都会遇到事务问题，所谓事务包含四个基本要素：原子性，一致性，隔离性和持久性，这里以关系型数据库MySQL为例，MySQL的InnoDB引擎提供了事务的支持；在单机单进程环境下，通过MySQL的事务的就可以实现事务的特性，但是系统架构一旦上升到分布式系统架构，单机事务就无法保证整个分布式系统的事务特性了。例如：订单服务发起下单，下单过程成功要调用库存接口扣减库存，但是由于网络超时，下游服务异常，下游服务业务异常等情况，需要回滚的时候，订单服务并不能感知到何时回滚，或者说无法收到回滚通知。

&nbsp; &nbsp; 对于分布式事务问题，业界有几种普遍的方案，如：XA-强一致性方案，两阶段提交，三阶段提交，TCC分布式事务，BASE柔性事务，DTP模型，可靠消息最终一致性分布式事务，最大努力通知。本篇以`可靠消息最终一致性分布式事务`为例，以一个简单的下单，扣减库存的电商案例实现分布式事务。


## 可靠消息最终一致性分布式事务依赖组件

