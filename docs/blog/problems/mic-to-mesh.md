# 公司传统微服务架构切换Service Mesh架构部署方案总结 <!-- {docsify-ignore-all} -->


## 系统架构切换背景

&nbsp; &nbsp; 公司系统既有架构是传统的微服务架构，服务的部署方式也是传统的系统部署方式，并没有进行容器化部署；使用`Dubbo`作为微服务中间件，`Zookeeper`为系统的注册中心，同时使用`Elastic JOB`分布式定时任务中间件进行分布式任务处理；

&nbsp; &nbsp; 随着云原生技术的快速发展，公司系统架构也开始着手进行调整，从技术上看云原生架构可以使系统拥有更好的伸缩性，更好的观测性，更灵活的发布策略，更精细的流量控制等等，可以让开发人员更专注于业务逻辑的开发，让开发人员从一些分布式的控制逻辑上摆脱出来，从而提高生产力；从公司成本角度看，云原生架构，尤其是通过k8s对系统进行容器化部署管理能够降低硬件成本；所以基于这两点出发，公司决定逐步的对公司系统架构切换成容器化，Service Mesh的形式。

## 服务划分

&nbsp; &nbsp; 本篇主要介绍下公司某一个独立业务的服务架构由传统的部署方式切换成容器化部署，暂不介绍服务全部去掉`Dubbo`转成`Service Mesh`的方案。

&nbsp; &nbsp; 首先该业务的服务可分成以下两个类型的服务：

- **接口服务（Dubbo、Http）**：纯接口服务，分成两类接口，一类是Http协议的接口，一类是Dubbo接口，这两类接口的应用场景有些诧异，Http接口主要是提供给前端（APP，H5，第三方），Dubbo接口主要用于系统内部服务之间的调用
- **分布式定时任务服务（JOB）**

## 切换方案